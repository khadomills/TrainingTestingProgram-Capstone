<!DOCTYPE html>
<html lang="en">
<head>
    <!-- include libraries(jQuery, bootstrap) -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <!-- include summernote css/js -->
    <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.js"></script>
    <title>Summernote Example</title>
</head>
<body>
<form method="post">
    <textarea id="summernote" name="editordata"></textarea>
    <button type="button" onclick="getEditorContent()">Get Content</button>

    <!-- Predefined content buttons -->
    <div id="predefinedContentButtons">
        <button type="button" class="btn btn-default predefined-content-btn" data-html="
        <p>What is the correct answer?<br></p>
        <p>
            <span style='font-size: 22px;'>Ⓐ</span>
            <span style='font-size: 14px;'>Answer A</span><br>
            <span style='font-size: 22px;'>Ⓑ</span>
            <span style='font-size: 14px;'>Answer B</span><br>
            <span style='font-size: 22px;'>Ⓒ</span>
            <span style='font-size: 14px;'>Answer C</span><br>
            <span style='font-size: 22px;'>Ⓓ</span>
            <span style='font-size: 14px;'>Answer D</span>
        </p>">Multiple Choice</button>

        <button type="button" class="btn btn-default predefined-content-btn" data-html="
        <p> What question will go here?</p>
        <p>__________________________________________________________________________________________</p>
        <p>__________________________________________________________________________________________</p>
        <p>__________________________________________________________________________________________</p>
        <p>__________________________________________________________________________________________</p>
        <p>__________________________________________________________________________________________</p>
        ">Short Answer</button>

        <button type="button" class="btn btn-default predefined-content-btn" data-html="
        <p>A statement of possible fact.<br></p>
        <p><span style='font-size: 22px;'>Ⓐ</span>
        True<br><span style='font-size: 22px;'>Ⓑ</span> False<br></p>
        ">True/False</button>
    </div>
</form>
<script>
$(document).ready(function() {
  $('#summernote').summernote({
    toolbar: [
      ['style', ['style']],
      ['font', ['bold', 'underline', 'clear']],
      ['fontname', ['fontname']],
      ['color', ['color']],
      ['fontsize', ['fontsize']],
      ['para', ['ul', 'ol', 'paragraph']],
      ['insert', ['picture']],
      ['view', ['fullscreen', 'codeview', 'help']],
      ['height', ['height']]
    ],
    fontSizes: ['8', '9', '10', '11', '12', '14', '16', '18', '20', '22', '24', '36'],
    width: "7.6in"
  });

  // Replace Summernote content with predefined HTML when a button is clicked
  $('.predefined-content-btn').on('click', function() {
    var predefinedHTML = $(this).data('html');
    $('#summernote').summernote('code', predefinedHTML);
  });
});

    function getEditorContent() {
        var htmlContent = $('#summernote').summernote('code');
        console.log(htmlContent);

        // Use jQuery AJAX to send the content to a Flask route
        $.ajax({
            type: 'POST',
            url: '/process_question',
            data: { content: htmlContent },
            success: function(response) {
                console.log(response); // Handle the response from the server
            }
        });
    }
</script>
</body>
</html>
