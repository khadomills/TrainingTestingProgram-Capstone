<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <title>Test Creation Form</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/random_test_creation.css') }}">
    <link rel="stylesheet" href="{{url_for('static', filename='/css/main.css')}}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/fonts.css') }}">
    {% include 'navbar.html' %}
  </head>
  <body>
    <div class="wrapper">
    <div class="main-container">
      <form id="random_test_creation_form">
        <h1>Random Test Creation</h1>
        <h2>Select options to determine the pool of potential questions from the database:</h2>
        <div class="criteria-container">
          <!-- Bloom's Taxonomy Section -->
          <div class="section">
            <div class="label-container">
              <h3>Bloom's Taxonomy</h3>
            </div>
            <div class="selection-container">
              {% for category in blooms_taxonomy %}
                <label class="toggle-btn" data-selected="false">
                  <input type="checkbox" id="blooms_{{ category }}" name="blooms_taxonomy" value="{{ category }}" data-category="blooms_taxonomy" style="display: none;">
                  <span class="toggle-btn-label">{{ category }}</span>
                </label>
              {% endfor %}         
            </div>
            <button type="button" class="select-category" data-category="blooms_taxonomy">Select All Categories</button>
          </div>
          <!-- Subject Section -->
          <div class="section">
            <div class="label-container">
              <h3>Subject</h3>
            </div>
            <div class="selection-container">
              {% for subject in subjects %}
                <label class="toggle-btn" data-selected="false">
                  <input type="checkbox" id="subject_{{ subject }}" name="subject" value="{{ subject }}" data-category="subjects" style="display: none;">
                  <span class="toggle-btn-label" for="subject_{{ subject }}">{{ subject }}</span>
                </label>
              {% endfor %}
            </div>
            <button type="button" class="select-category" data-category="subjects">Select All Subjects</button>
          </div>
          <!-- Topic Section -->
          <div class="section">
            <div class="label-container">
              <h3>Topic</h3>
            </div>
            <div class="selection-container">
              {% for topic in topics %}
                <label class="toggle-btn" data-selected="false">
                  <input type="checkbox" id="topic_{{ topic }}" name="topic" value="{{ topic }}" data-category="topics" style="display: none;">
                  <span class="toggle-btn-label">{{ topic }}</span>
                </label>
              {% endfor %}
            </div>
            <button type="button" class="select-category" data-category="topics">Select All Topics</button>
          </div>
          <!-- Question Type Section -->
          <div class="section">
            <div class="label-container">
              <h3>Question Type</h3>
            </div>
            <div class="selection-container">
              {% for q_type in question_types %}
                <label class="toggle-btn" data-selected="false">
                  <input type="checkbox" id="question_type_{{ q_type }}" name="question_type" value="{{ q_type }}" data-category="question_types" style="display: none;">
                  <span class="toggle-btn-label">{{ q_type }}</span>
                </label>
              {% endfor %}
            </div>
            <button type="button" class="select-category" data-category="question_types">Select All Types</button>
          </div>
          <!-- Question Difficulty Section--> 
          <div class="section">
            <div class="label-container">
              <h3>Question Difficulty</h3>
            </div>
            <div class="selection-container">
              {% for q_difficulty in question_difficulty %}
                <label class="toggle-btn" data-selected="false">  
                  <input type="checkbox" id="question_difficulty_{{ q_difficulty }}" name="question_difficulty" value="{{ q_difficulty }}" data-category="question_difficulties" style="display: none;">
                  <span class="toggle-btn-label">{{ q_difficulty }}</span>
                </label>
              {% endfor %}
            </div>
            <button type="button" class="select-category" data-category="question_difficulties">Select All Difficulties</button>
          </div>
        </div>
        <div class="section">
          <div class="grid-container">
            <div class="grid-item">
              <div class ="label-textboxsection-container">
                <h3>Number of Questions</h3>
              </div>
              <div class="textinput-container">
                <input type="number" id="number_of_questions" name="number_of_questions">
              </div>
            </div>
            <div class="grid-item">
              <div class ="label-textboxsection-container">
                <h3>Test Max Points</h3>
              </div>
              <div class="textinput-container">
                <input type="number" id="test_max_points" name="test_max_points" min="1">
              </div>
            </div>
          </div>
        </div>
        <div class="section">
          <div class="grid-container">
            <div class="grid-item">
              <div class ="label-textboxsection-container">
                <h3>Training Level</h3>
              </div>
              <div class="textinput-container">
                <select id="training_level" name="training_level" class="dropdown-input">
                  <option value="all">Select training level</option>
                  <option value="applicant">Applicant</option>
                  <option value="apprentice">Apprentice</option>
                  <option value="journeyman">Journeyman</option>
                  <option value="senior">Senior</option>
                  <option value="chief">Chief</option>
                  <option value="coordinator">Coordinator</option>
                  <option value="all">Select all</option>
                </select>
              </div>
            </div>
            <div class="grid-item">
              <div class ="label-textboxsection-container">
                <h3>Test Name</h3>
              </div>
              <div class="textinput-container">
                <input type="text" id="test_name" name="test_name">
              </div>
            </div>
          </div>
          <div class="section">
            <div class="grid-container">
              <div class="grid-item">
                <div class ="label-textboxsection-container">
                  <h3>Test Description</h3>
                </div>
                <div class="textinput-container">
                  <textarea class="large-textbox" id="test_description" rows="6" cols="50"></textarea>
                </div>
              </div>
              <div class="grid-item">
                <div class ="label-textboxsection-container">
                  <h3>Active?</h3>
                </div>
              <div class="textinput-container">
                <label class="switch">
                  <input type="checkbox">
                  <span class="slider round"></span>
                </label>
              </div>
            </div>
          </div>
        </div>
        <div class="section"> 
          <div class="centered-button-container">
            <button type="button" id="confirm-selection">Generate Test</button>
            <button type="button" id="reset-selection">Reset All Inputs</button>
          </div>
        </div>
      </form>
    </div>
  </div>
    <script src="{{ url_for('static', filename='js/random_test_creation.js') }}"></script>
  </body>
</html>